.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "autouse 3"
.TH autouse 3 2024-02-27 "perl v5.40.0" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
autouse \- postpone load of modules until a function is used
.SH SYNOPSIS
.IX Header "SYNOPSIS"
.Vb 2
\&  use autouse \*(AqCarp\*(Aq => qw(carp croak);
\&  carp "this carp was predeclared and autoused ";
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
If the module \f(CW\*(C`Module\*(C'\fR is already loaded, then the declaration
.PP
.Vb 1
\&  use autouse \*(AqModule\*(Aq => qw(func1 func2($;$));
.Ve
.PP
is equivalent to
.PP
.Vb 1
\&  use Module qw(func1 func2);
.Ve
.PP
if \f(CW\*(C`Module\*(C'\fR defines \fBfunc2()\fR with prototype \f(CW\*(C`($;$)\*(C'\fR, and \fBfunc1()\fR has
no prototypes.  (At least if \f(CW\*(C`Module\*(C'\fR uses \f(CW\*(C`Exporter\*(C'\fR's \f(CW\*(C`import\*(C'\fR,
otherwise it is a fatal error.)
.PP
If the module \f(CW\*(C`Module\*(C'\fR is not loaded yet, then the above declaration
declares functions \fBfunc1()\fR and \fBfunc2()\fR in the current package.  When
these functions are called, they load the package \f(CW\*(C`Module\*(C'\fR if needed,
and substitute themselves with the correct definitions.
.SH WARNING
.IX Header "WARNING"
Using \f(CW\*(C`autouse\*(C'\fR will move important steps of your program's execution
from compile time to runtime.  This can
.IP \(bu 4
Break the execution of your program if the module you \f(CW\*(C`autouse\*(C'\fRd has
some initialization which it expects to be done early.
.IP \(bu 4
hide bugs in your code since important checks (like correctness of
prototypes) is moved from compile time to runtime.  In particular, if
the prototype you specified on \f(CW\*(C`autouse\*(C'\fR line is wrong, you will not
find it out until the corresponding function is executed.  This will be
very unfortunate for functions which are not always called (note that
for such functions \f(CW\*(C`autouse\*(C'\fRing gives biggest win, for a workaround
see below).
.PP
To alleviate the second problem (partially) it is advised to write
your scripts like this:
.PP
.Vb 3
\&  use Module;
\&  use autouse Module => qw(carp($) croak(&$));
\&  carp "this carp was predeclared and autoused ";
.Ve
.PP
The first line ensures that the errors in your argument specification
are found early.  When you ship your application you should comment
out the first line, since it makes the second one useless.
.SH AUTHOR
.IX Header "AUTHOR"
Ilya Zakharevich (ilya@math.ohio\-state.edu)
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBperl\fR\|(1).
