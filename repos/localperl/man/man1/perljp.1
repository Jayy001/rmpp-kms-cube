.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "PERLJP 1"
.TH PERLJP 1 2024-02-27 "perl v5.40.0" "Perl Programmers Reference Guide"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
perljp \- 日本語 Perl ガイド
.SH 説明
.IX Header "説明"
Perl の世界へようこそ!
.PP
Perl 5.8.0 より、Unicodeサポートが大幅に強化され、その結果ラテン文字以外の文字コードのサポートが CJK (中国語、日本語、ハングル)を含めて加わりました。Unicodeは世界中の文字を一つの文字コードで扱うことを目指した標準規格であり、東から西、はたまたその間の文字（ギリシャ文字、キリール文字、アラビア文字、ヘブライ文字、ディーヴァナガーリ文字、などなど）や、これまではOSベンダーが独自に定めていた文字(PCおよびMacintosh)がすでに含まれています。
.PP
Perl 自身は Unicode で動作します。Perl スクリプト内の文字列リテラルや正規表現は Unicode を前提としています。そして入出力のためには、これまで使われてきたさまざまな文字コードに対応するモジュール、「 Encode 」が標準装備されており、Unicode とこれらの文字コードの相互変換も簡単に行えるようになっています。
.PP
現時点で Encode がサポートする文字コードは以下のとおりです。
.PP
.Vb 10
\&  7bit\-jis      AdobeStandardEncoding AdobeSymbol       AdobeZdingbat
\&  ascii             big5              big5\-hkscs        cp1006
\&  cp1026            cp1047            cp1250            cp1251
\&  cp1252            cp1253            cp1254            cp1255
\&  cp1256            cp1257            cp1258            cp37
\&  cp424             cp437             cp500             cp737
\&  cp775             cp850             cp852             cp855
\&  cp856             cp857             cp860             cp861
\&  cp862             cp863             cp864             cp865
\&  cp866             cp869             cp874             cp875
\&  cp932             cp936             cp949             cp950
\&  dingbats          euc\-cn            euc\-jp            euc\-kr
\&  gb12345\-raw       gb2312\-raw        gsm0338           hp\-roman8
\&  hz                iso\-2022\-jp       iso\-2022\-jp\-1     iso\-8859\-1
\&  iso\-8859\-10       iso\-8859\-11       iso\-8859\-13       iso\-8859\-14
\&  iso\-8859\-15       iso\-8859\-16       iso\-8859\-2        iso\-8859\-3
\&  iso\-8859\-4        iso\-8859\-5        iso\-8859\-6        iso\-8859\-7
\&  iso\-8859\-8        iso\-8859\-9        iso\-ir\-165        jis0201\-raw
\&  jis0208\-raw       jis0212\-raw       johab             koi8\-f
\&  koi8\-r            koi8\-u            ksc5601\-raw       MacArabic
\&  MacCentralEurRoman  MacChineseSimp    MacChineseTrad    MacCroatian
\&  MacCyrillic       MacDingbats       MacFarsi          MacGreek
\&  MacHebrew         MacIcelandic      MacJapanese       MacKorean
\&  MacRoman          MacRomanian       MacRumanian       MacSami
\&  MacSymbol         MacThai           MacTurkish        MacUkrainian
\&  nextstep          posix\-bc          shiftjis          symbol
\&  UCS\-2BE           UCS\-2LE           UTF\-16            UTF\-16BE
\&  UTF\-16LE          UTF\-32            UTF\-32BE          UTF\-32LE
\&  utf8              viscii
.Ve
.PP
(全114種類)
.PP
例えば、文字コードFOOのファイルをUTF\-8に変換するには、以下のようにします。
.PP
.Vb 1
\&    perl \-Mencoding=FOO,STDOUT,utf8 \-pe1 < file.FOO > file.utf8
.Ve
.PP
また、Perlには、全部がPerlで書かれた文字コード変換ユーティリティ、piconvも付属しているので、以下のようにすることもできます。
.PP
.Vb 2
\&   piconv \-f FOO \-t utf8 < file.FOO > file.utf8
\&   piconv \-f utf8 \-t FOO < file.utf8 > file.FOO
.Ve
.SS "(jcode.pl|Jcode.pm|JPerl) からの移行"
.IX Subsection "(jcode.pl|Jcode.pm|JPerl) からの移行"
5.8以前の、スクリプトがEUC\-JPであればリテラルだけは扱うことができました。また、入出力を扱うモジュールとしてはJcode.pmが( <http://openlab.ring.gr.jp/Jcode/> )、perl4用のユーティリティとしてはjcode.plがそれぞれ存在し、日本語の扱えるCGIでよく利用されていることを御存じの方も少なくないかと思われます。ただし、日本語による正規表現をうまく扱うことは不可能でした。
.PP
5.005以前のPerlには、日本語に特化したローカライズ版、Jperlが存在しました( <http://homepage2.nifty.com/kipp/perl/jperl/index.html> ※1)。また、Mac OS 9.x/Classic用のPerl、MacPerlの日本語版もMacJPerlとして存在してました。( <https://habilis.net/macjperl/> ).これらでは文字コードとしてEUC\-JPに加えShift_JISもそのまま扱うことができ、また日本語による正規表現を扱うことも可能でした。
.PP
Perl5.8では、これらの機能がすべてPerl本体だけで実現できる上に、日本語のみならず上記114の文字コードをすべて、しかも同時に扱うことができます。さらに、CPANなどから新しい文字コード用のモジュールを入手することも簡単にできるようになっています。
.PP
※1: ホスティングサービスの終了により現在は閲覧できません。 Vector( <https://www.vector.co.jp/soft/win95/util/se098198.html> )からWindow用のバイナリを、CPAN( <https://www.cpan.org/src/unsupported/4.036/jperl/> )からperl4用のパッチを入手することができます。
.IP \(bu 4
入出力
.Sp
以下の例はいずれもShift_JISの入力をEUC\-JPに変換して出力します。
.Sp
.Vb 10
\&  # jcode.pl
\&  require "jcode.pl";
\&  while(<>){
\&    jcode::convert(*_, \*(Aqeuc\*(Aq, \*(Aqsjis\*(Aq);
\&    print;
\&  }
\&  # Jcode.pm
\&  use Jcode;
\&  while(<>){
\&        print Jcode\->new($_, \*(Aqsjis\*(Aq)\->euc;
\&  }
\&  # Perl 5.8
\&  use Encode;
\&  while(<>){
\&    from_to($_, \*(Aqshiftjis\*(Aq, \*(Aqeuc\-jp\*(Aq);
\&    print;
\&  }
\&  # Perl 5.8 \- encoding を利用して
\&  use encoding \*(Aqeuc\-jp\*(Aq, STDIN => \*(Aqshiftjis\*(Aq;
\&  while(<>){
\&        print;
\&  }
.Ve
.IP \(bu 4
Jperl 互換スクリプト
.Sp
いわゆる"shebang"を変更するだけで、Jperl用のscriptのほとんどは変更なしに利用可能だと思われます。
.Sp
.Vb 3
\&   #!/path/to/jperl
\&   ↓
\&   #!/path/to/perl \-Mencoding=euc\-jp
.Ve
.Sp
詳しくは perldoc encoding を参照してください。
.SS さらに詳しく
.IX Subsection "さらに詳しく"
Perlには膨大な資料が付属しており、Perlの新機能やUnicodeサポート、そしてEncodeモジュールの使用法などが細かく網羅されています（残念ながら、ほとんど英語ではありますが）。以下のコマンドでそれらの一部を閲覧することが可能です。
.PP
.Vb 3
\&  perldoc perlunicode # PerlのUnicodeサポート全般
\&  perldoc Encode      # Encodeモジュールに関して
\&  perldoc Encode::JP  # うち日本語文字コードに関して
.Ve
.SS "Perl全般に関する URL"
.IX Subsection "Perl全般に関する URL"
.IP <https://www.perl.org/> 4
.IX Item "<https://www.perl.org/>"
Perl ホームページ
.IP <https://www.perl.com/> 4
.IX Item "<https://www.perl.com/>"
Perl 財団が営業する文章作品集
.IP <https://www.cpan.org/> 4
.IX Item "<https://www.cpan.org/>"
CPAN (Comprehensive Perl Archive Network)
.IP <https://metacpan.org/> 4
.IX Item "<https://metacpan.org/>"
MetaCPAN CPANの検索エンジン
.IP <https://lists.perl.org/> 4
.IX Item "<https://lists.perl.org/>"
Perl メーリングリスト集
.IP <https://perldoc.jp/> 4
.IX Item "<https://perldoc.jp/>"
perldoc.jp Perl の公式ドキュメント、モジュールドキュメントの日本語訳
.SS "Perlの修得に役立つ URL"
.IX Subsection "Perlの修得に役立つ URL"
.IP <http://www.oreilly.com.cn/> 4
.IX Item "<http://www.oreilly.com.cn/>"
O'Reilly 社のPerl関連書籍(簡体字中国語)
.IP <https://www.oreilly.co.jp/catalog/> 4
.IX Item "<https://www.oreilly.co.jp/catalog/>"
オライリー社のPerl関連書籍(日本語)
.SS "Perl に関する団体"
.IX Subsection "Perl に関する団体"
.IP <https://www.pm.org/groups/asia.html> 4
.IX Item "<https://www.pm.org/groups/asia.html>"
アジア地域の Perl Mongers (Perlのユーザーグループ) 一覧
.IP <https://japan.perlassociation.org> 4
.IX Item "<https://japan.perlassociation.org>"
一般社団法人Japan Perl Association (JPA) Perl技術及び文化の啓蒙・促進のための組織
.SS Unicode関連のURL
.IX Subsection "Unicode関連のURL"
.IP <https://www.unicode.org/> 4
.IX Item "<https://www.unicode.org/>"
Unicode コンソーシアム (Unicode規格の選定団体)
.IP <https://www.cl.cam.ac.uk/%7Emgk25/unicode.html> 4
.IX Item "<https://www.cl.cam.ac.uk/%7Emgk25/unicode.html>"
UTF\-8 and Unicode FAQ for Unix/Linux
.IP <https://wiki.kldp.org/Translations/html/UTF8\-Unicode\-KLDP/UTF8\-Unicode\-KLDP.html> 4
.IX Item "<https://wiki.kldp.org/Translations/html/UTF8-Unicode-KLDP/UTF8-Unicode-KLDP.html>"
UTF\-8 and Unicode FAQ for Unix/Linux (ハングル訳)
.SH AUTHORS
.IX Header "AUTHORS"
.IP \(bu 4
Jarkko Hietaniemi <jhi@iki.fi>
.IP \(bu 4
Dan Kogai (小飼　弾) <dankogai@dan.co.jp>
.IP \(bu 4
Shogo Ichinose (一野瀬　翔吾) <shogo82148@gmail.com>
